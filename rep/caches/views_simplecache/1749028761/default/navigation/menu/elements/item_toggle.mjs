import 'jquery';import hooks from 'elgg/hooks';import Ajax from 'elgg/Ajax';$(document).on('click','.elgg-menu a[data-toggle]',function(){var $item_clicked=$(this).closest('li');var $menu=$item_clicked.closest('.elgg-menu');var other_menuitem_name=$(this).data().toggle.replace('_','-');var $other_item=$menu.find('.elgg-menu-item-'+other_menuitem_name).eq(0);if(!$other_item){return}
var $both_items=$item_clicked.add($other_item);$both_items.toggleClass('hidden');$other_item.children('a').focus();var ajax=new Ajax();ajax.action($(this).attr('href'),{success:function(result){hooks.trigger('toggle','menu_item',{itemClicked:$item_clicked,itemToggled:$other_item,menu:$menu,data:result})},error:function(){$both_items.toggleClass('hidden');$item_clicked.children('a').focus()}});return!1})